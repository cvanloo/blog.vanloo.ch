@charset "UTF-8";

/* @todo: include font licenses and link to them on the about page */

@font-face {
	font-family: "Helvetia";
	src: url("/fonts/Helvetia/Helvetica Verbundene.ttf") format("truetype");
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-Regular-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-Regular-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-Regular-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-Regular-102.svg") format("svg");
	font-style: normal;
	font-weight: normal;
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-Bold-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-Bold-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-Bold-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-Bold-102.svg") format("svg");
	font-weight: bold;
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-Italic-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-Italic-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-Italic-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-Italic-102.svg") format("svg");
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-Italic-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-Italic-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-Italic-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-Italic-102.svg") format("svg");
	font-style: oblique;
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-BoldItalic-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-BoldItalic-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-BoldItalic-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-BoldItalic-102.svg") format("svg");
	font-weight: bold;
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: "Atkinson Hyperlegible";
	src: url("fonts/Atkinson/WOFF2/Atkinson-Hyperlegible-BoldItalic-102a.woff2") format("woff2"),
	     url("fonts/Atkinson/WOFF/Atkinson-Hyperlegible-BoldItalic-102.woff") format("woff"),
	     url("fonts/Atkinson/TTF/Atkinson-Hyperlegible-BoldItalic-102.ttf") format("truetype"),
	     url("fonts/Atkinson/SVG/Atkinson-Hyperlegible-BoldItalic-102.svg") format("svg");
	font-weight: bold;
	font-style: oblique;
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono Variable";
	src: url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Regular.woff2") format("woff2"),
	     url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Regular.woff") format("woff"),
	     url("fonts/berkeley-mono-variable/TTF/BerkeleyMonoVariable-Regular.ttf") format("truetype");
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono Variable";
	src: url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Italic.woff2") format("woff2"),
	     url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Italic.woff") format("woff"),
	     url("fonts/berkeley-mono-variable/TTF/BerkeleyMonoVariable-Italic.ttf") format("truetype");
	     font-style: italic;
	     font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono Variable";
	src: url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Italic.woff2") format("woff2"),
	     url("fonts/berkeley-mono-variable/WEB/BerkeleyMonoVariable-Italic.woff") format("woff"),
	     url("fonts/berkeley-mono-variable/TTF/BerkeleyMonoVariable-Italic.ttf") format("truetype");
	     font-style: oblique;
	     font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-Regular.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-Regular.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-Regular.ttf") format("truetype");
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-Bold.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-Bold.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-Bold.ttf") format("truetype");
	font-weight: bold;
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-Italic.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-Italic.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-Italic.ttf") format("truetype");
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-Italic.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-Italic.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-Italic.ttf") format("truetype");
	font-style: oblique;
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-BoldItalic.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-BoldItalic.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-BoldItalic.ttf") format("truetype");
	font-weight: bold;
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: "Berkeley Mono";
	src: url("fonts/berkeley-mono/WEB/BerkeleyMono-BoldItalic.woff2") format("woff2"),
	     url("fonts/berkeley-mono/WEB/BerkeleyMono-BoldItalic.woff") format("woff"),
	     url("fonts/berkeley-mono/TTF/BerkeleyMono-BoldItalic.ttf") format("truetype");
	font-weight: bold;
	font-style: oblique;
	font-display: swap;
}

:root {
	--content-width: 60ch;
	--text-size: 1em;
	--fonts-text: "Atkinson Hyperlegible", sans-serif;
	--fonts-code: "Berkeley Mono", monospace;
	--fonts-note: "Helvetia", serif;

	--link-color: #DD6EC2;
	--link-color-visited: #8A6EDD;
	--accent-color: #DD6EC2;

	--color-bg: #0A0A0A;
	--color-fg: #B8B9B4;
	--color-title: #D1D1CB;
	--color-code-lines: #2E2E2C;
	--color-sidenote-fg: #585858;
}

@media (prefers-color-scheme: dark) {
	:root {
		--link-color: #DD6EC2;
		--link-color-visited: #8A6EDD;
		--accent-color: #DD6EC2;

		/* Simple Dark (github.com/tek256/simple-dark) */
		--color-bg: #0A0A0A;
		--color-fg: #B8B9B4;
		--color-title: #D1D1CB;
		--color-code-lines: #2E2E2C;
		--color-sidenote-fg: #585858;
	}
}

html {
	scroll-behavior: smooth;
	scroll-padding-top: 10px;
	font-size: clamp(1em, 1.3vw, 1.3em);
}

a {
	color: var(--link-color);
}

a:visited {
	color: var(--link-color-visited);
}

a[target=_blank] {
	position: relative;
	margin-right: 8px;
	/*white-space: nowrap;*/
}

a[target=_blank]::after {
	position: absolute;
	content: "â—¹";
	font-size: 0.6em;
	bottom: 0.6em;
}

a[target=_blank]:hover::after {
	font-size: 0.9em;
}

/*
body,
h1,
h2,
h3,
h4,
p,
blockquote,
code,
ul,
ol,
dl,
dd,
img {
    margin: 0;
}*/

body {
	margin: 0;
	color: var(--color-fg);
	background-color: var(--color-bg);
}

h1 {
	font-size: 2.5em;
}

h1 a, h2 a, h3 a {
	color: var(--color-title);
	text-decoration: none;
}

h1 a:visited, h2 a:visited, h3 a:visited {
	color: var(--color-title);
}

body {
	line-height: 1.4;
	font-family: var(--fonts-text);
}

header {
	padding: 2em;
	margin: 0 auto;
	max-width: var(--content-width);
}

header p.fill {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
}

header span.keywords {
	display: flex;
	flex: 1; /* fill up parent flex container */
}

header span.keywords code {
	flex: 1;
	text-align: end;
	padding-left: 15px;
}

header span.keywords code a {
	color: var(--color-fg);
	text-decoration: none;
	position: relative;
}

header span.keywords code a::before {
	content: '';
	background-color: var(--color-sidenote-fg);
	position: absolute;
	left: 0;
	bottom: 3px;
	width: 100%;
	height: 4px;
	z-index: -1;
	transition: all .3s ease-in-out;
}

header span.keywords code a:hover::before {
	bottom: 0;
	height: 100%;
	background-color: white;
}

header span.keywords code a:hover {
	color: var(--color-bg);
	transition: all .3s ease-in-out;
}

main {
	margin: 0 auto;
	/*max-width: 80ch;*/
	max-width: var(--content-width);
	padding: 2em;
}

article {
	position: relative;
	/*max-width: 60ch;*/
}

footer {
	margin: 0 auto;
	max-width: var(--content-width);
	text-align: center;
	padding: 2em;
}

#eof {
	width: 100%;
	text-align: center;
	font-family: var(--fonts-code);
	margin: 1em;
}

div.scroll-progress {
	position: fixed;
	z-index: 2;
	margin: 0 auto;
	padding: 0 2em;
	max-width: var(--content-width);
	left: 0;
	right: 0;
}

#scroll-progress {
	height: 2px;
	background: var(--color-fg);
	width: 0;
}

address {
	font-style: normal;
}

address a {
	text-decoration: underline;
	text-decoration-style: dotted;
	color: var(--color-fg);
}

/*
 * Code block
 */

pre {
	white-space: pre-wrap;
}

code {
	font-family: var(--fonts-code);
	/* white-space: pre; */
	line-height: 1.5;
}

code span.line-number {
	counter-increment: line;
	text-align: left;
	float: left;
	clear: left;
	width: 100%;
	border-top: 1px solid var(--color-code-lines);
}

code span.line-number:last-child {
	border-bottom: 1px solid var(--color-code-lines);
}

code span.line-number::before {
	content: counter(line) ' ';
	float: left;
	margin-left: auto;
	text-align: right;
	width: 6ch;
	border-right: 1px solid var(--color-code-lines);
}

code span.line-number::after {
	content: '  ';
	float: right;
	width: 6ch;
	border-left: 1px solid var(--color-code-lines);
}

@media screen and (min-width: 600px) {
	code span.comment {
		display: inline-block;
		width: 50%;
		text-align: right;
	}
}

/*
 * Side note
 * Adapted @from: https://github.com/kslstn/sidenotes/tree/main (GPL-2.0)
 */

.sidenote {
	display: inline;
}

.sidenote__button::after {
	content: "*";
	display: inline-block;
	font-family: var(--fonts-note);
}

.sidenote__checkbox {
	display: none;
}

/* invisible (off screen) but available to screen readers */
.sidenote__content-parenthesis {
	position: absolute;
	left: -99999px;
	top: auto;
}

@media screen and (max-width: 1079px) {
	.sidenote__checkbox~.sidenote__content {
		position: absolute;
		left: -99999px;
		top: auto;
	}

	.sidenote__checkbox:checked~.sidenote__content {
		position: relative;
		left: auto;
		float: left;
		min-width: 100%;
		display: block;
		margin: 0.8rem 0;
		padding: 0.8rem 1.6rem;
		font-family: var(--fonts-note);
	}

	.sidenote__button {
		color: var(--link-color);
		text-decoration: underline;
		text-decoration-style: dotted;
		cursor: pointer;
	}

	.sidenote__button:not(:hover):focus::after {
		display: inline;
	}

	.sidenote__checkbox:checked~.sidenote__button::after {
		content: none;
	}
}

@media screen and (min-width: 1080px) {
	.sidenote {
		--sidenote-width: 12rem;
		--sidenote-margin: 4.8rem;
		cursor: default;
	}

	.sidenote:hover .sidenote__button::after,
	/*.sidenote:hover .sidenote__content::before {*/
	.sidenote:hover .sidenote__content::after {
		color: var(--accent-color);
	}

	/*.sidenote__content::before {*/
	.sidenote__content::after {
		content: "*";
		font-family: var(--fonts-note);
		display: flex;
		align-items: flex-start;
		justify-content: flex-end;
		position: absolute;
		top: 0;
		bottom: 0;
		/*left: -4rem;*/
		right: -1rem;
		width: 3rem;
	}

	.sidenote__content {
		display: block;
		position: absolute;
		/*right: 0;*/
		margin-top: calc(-1.5*var(--text-size));
		/*margin-right: calc(-1*var(--sidenote-width) - 1*var(--sidenote-margin));*/
		margin-left: calc(-1*var(--sidenote-width) - 1*var(--sidenote-margin));
		width: var(--sidenote-width);
		font-size: var(--text-size);
		color: var(--color-sidenote-fg);
		text-align: right;
		font-family: var(--fonts-note);
	}
}
